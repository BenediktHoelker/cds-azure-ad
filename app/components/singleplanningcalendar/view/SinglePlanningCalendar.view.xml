<mvc:View controllerName="iot.planner.components.singleplanningcalendar.controller.SinglePlanningCalendar"
	xmlns="sap.m"
	xmlns:unified="sap.ui.unified"
	xmlns:f="sap.ui.layout.form"
	xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core"
	xmlns:t="sap.ui.table"
	xmlns:mvc="sap.ui.core.mvc">
	<Page showHeader="false">
		<SinglePlanningCalendar id="SPCalendar" appointments="{/MyWorkItems}" appointmentSelect="onPressAppointment" appointmentCreate="onCreateAppointment" appointmentResize="onEditAppointment" appointmentDrop="onEditAppointment" startDateChange="onStartDateChange" viewChange="onChangeView" startHour="8" endHour="18" fullDay="false" enableAppointmentsCreate="true" enableAppointmentsResize="true" enableAppointmentsDragAndDrop="true" scaleFactor="1" busy="{/busy}" busyIndicatorDelay="0">
			<actions>
				<Button id="createAppointment" text="{i18n>createAppointment.button.text}" press="onCreateAppointment" tooltip="{i18n>createAppointment.button.tooltip}" />
				<Button id="displayLegend" text="{i18n>displayLegend.button.text}" press="onDisplayLegend" tooltip="{i18n>displayLegend.button.tooltip}" />
			</actions>
			<appointments>
				<unified:CalendarAppointment startDate="{activatedDate}" endDate="{completedDate}" title="{parent/absoluteReference} {title}" text="{parent/deepReference}" type="{parts: ['source', 'status'], formatter: '.formatter.getDisplayType'}" tentative="{= !${confirmed}}"/>
				<!-- icon="{path: 'customer_friendlyID', formatter: '.formatter.getIconURL'}" -->
			</appointments>
			<dependents>
				<core:Fragment fragmentName="iot.planner.components.singleplanningcalendar.view.dialogs.CreateEntryDialog" type="XML"/>
				<Dialog id="legendDialog" title="{i18n>legend.title}">
					<PlanningCalendarLegend id="singlePlanningCalendarLegend" items="{path : '/legendItems', templateShareable: true}" class="sapUiSmallMarginTop">
						<items>
							<unified:CalendarLegendItem text="{text}" type="{type}" />
						</items>
					</PlanningCalendarLegend>
					<buttons>
						<Button text="{i18n>close}" press="onCloseDialog" />
					</buttons>
				</Dialog>
			</dependents>
			<views>
				<SinglePlanningCalendarDayView key="Day" id="dayView" title="{i18n>calendar.dayView}" />
				<SinglePlanningCalendarWorkWeekView key="WorkWeek" title="{i18n>calendar.workWeekView}" />
				<SinglePlanningCalendarWeekView key="Week" title="{i18n>calendar.weekView}"/>
				<SinglePlanningCalendarMonthView key="Month" id="monthView" title="{i18n>calendar.monthView}" />
			</views>
		</SinglePlanningCalendar>
	</Page>
</mvc:View>