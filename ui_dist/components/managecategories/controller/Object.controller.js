sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","../model/formatter"],(e,t,o,s)=>e.extend("iot.planner.components.managecategories.controller.Object",{formatter:s,onInit(){const e=new t({busy:true,delay:0});this.getRouter().getRoute("object").attachPatternMatched(this._onObjectMatched,this);this.setModel(e,"objectView")},onNavBack(){const e=o.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{this.getRouter().navTo("worklist",{},true)}},_onObjectMatched(e){const t=e.getParameter("arguments").objectId;this._bindView(`/Categories${t}`)},_bindView(e){const t=this.getModel("objectView");this.getView().bindElement({path:e,events:{change:this._onBindingChange.bind(this),dataRequested(){t.setProperty("/busy",true)},dataReceived(){t.setProperty("/busy",false)}}})},_onBindingChange(){const e=this.getView();const t=this.getModel("objectView");const o=e.getElementBinding();if(!o.getBoundContext()){this.getRouter().getTargets().display("objectNotFound");return}const s=this.getResourceBundle();const n=e.getBindingContext().getObject();const i=n.title;const a=n.Categories;t.setProperty("/busy",false);t.setProperty("/shareSendEmailSubject",s.getText("shareSendEmailObjectSubject",[i]));t.setProperty("/shareSendEmailMessage",s.getText("shareSendEmailObjectMessage",[a,i,location.href]))}}));